{% extends "base.html" %}
{% block content %}
<h1>테이블 현황</h1>

<div style="display:flex; flex-direction:column; gap:20px; align-items:center;">
  {% for i in range(1, 5) %}
    {% if i in active_tables %}
      {% set minutes = active_tables[i] %}
      <div style="width:120px; height:120px; display:flex; flex-direction:column;
                  justify-content:center; align-items:center; border:1px solid #333;
                  border-radius:8px; background-color:#b3e5fc; font-weight:bold; font-size:18px;">
        <div>{{ i }}번</div>
        <div style="font-size:14px;">남은시간 {{ minutes }}분</div>
      </div>
    {% else %}
      <div style="width:120px; height:120px; display:flex; flex-direction:column;
                  justify-content:center; align-items:center; border:1px solid #333;
                  border-radius:8px; background-color:white; font-weight:bold; font-size:18px;">
        <div>{{ i }}번</div>
        <div style="font-size:14px; color:#666;">대기중</div>
      </div>
    {% endif %}
  {% endfor %}
</div>

<!-- ✅ 30초마다 페이지 새로고침 -->
<script>
  setTimeout(function() {
    window.location.reload();
  }, 30000);
</script>
{% endblock %}
